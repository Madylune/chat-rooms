(this["webpackJsonpchat-rooms"]=this["webpackJsonpchat-rooms"]||[]).push([[0],{188:function(e,t,n){var a={"./avatar-1.jpg":366,"./avatar-2.jpg":367,"./avatar-3.jpg":368,"./avatar-4.jpg":369,"./avatar-5.jpg":370,"./avatar-6.jpg":371,"./avatar-7.jpg":372,"./avatar-8.jpg":373};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=188},213:function(e,t,n){e.exports=n(379)},361:function(e,t,n){e.exports=n.p+"static/media/chatrooms_logo.ff196929.png"},366:function(e,t,n){e.exports=n.p+"static/media/avatar-1.419b61af.jpg"},367:function(e,t,n){e.exports=n.p+"static/media/avatar-2.84d9cafb.jpg"},368:function(e,t,n){e.exports=n.p+"static/media/avatar-3.38447929.jpg"},369:function(e,t,n){e.exports=n.p+"static/media/avatar-4.e4d0ffba.jpg"},370:function(e,t,n){e.exports=n.p+"static/media/avatar-5.cab40919.jpg"},371:function(e,t,n){e.exports=n.p+"static/media/avatar-6.7c609b74.jpg"},372:function(e,t,n){e.exports=n.p+"static/media/avatar-7.e1c2371f.jpg"},373:function(e,t,n){e.exports=n.p+"static/media/avatar-8.a4b9282a.jpg"},378:function(e,t,n){},379:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n.n(c),u=n(54),i=n(55),s=n(59),l=n(58),p=n(129),m=n(16),f=n(34),d=n(6),v=n.n(d),h=n(22),b=n(12),g=n(19),j=n(9),O=n(95),x=n.n(O);n(219),n(221);x.a.initializeApp({apiKey:"AIzaSyABrFCQSJz9_Pt74JlNNrJn-0-8fLTF2ck",authDomain:"chat-c5a1b.firebaseapp.com",databaseURL:"https://chat-c5a1b.firebaseio.com",projectId:"chat-c5a1b",storageBucket:"chat-c5a1b.appspot.com",messagingSenderId:"192394678210",appId:"1:192394678210:web:a1fec82d3182705707d05b",measurementId:"G-NK798QJTRN"});var E=x.a.auth,y=x.a.database(),w=n(8),k=n.n(w),S=n(191),C=n.n(S),U=n(192),A=n.n(U),N=n(193),I=n.n(N),L=n(194),D=n.n(L),R=n(195),z=n.n(R),B=function(){var e=Object(b.a)(v.a.mark((function e(t){var n,a,r,c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.path,a=t.entity,r=y.ref(n),!k()("id",a)){e.next=6;break}e.t0=a.id,e.next=9;break;case 6:return e.next=8,r.push().key;case 8:e.t0=e.sent;case 9:return c=e.t0,o=Object(h.a)({id:c},a),e.next=13,r.child(c).set(o);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(v.a.mark((function e(t){var n,a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.path,a=t.query,r=void 0===a?function(e){return e}:a,e.next=3,r(y.ref(n)).once("value");case 3:return c=e.sent,e.abrupt("return",c.val());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={content:t.content,timestamp:t.timestamp,userId:t.uid,room:t.room},e.next=3,B({path:"/messages",entity:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={displayName:t.displayName,email:t.email,id:t.uid,photoURL:t.photoURL},e.next=3,B({path:"/users",entity:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(b.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({path:"users/".concat(t)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:t.title,createdAt:t.timestamp,createBy:t.userId,access:t.access,code:z()(D()(0,9999),4,"0")},e.next=3,B({path:"/rooms",entity:n});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(b.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({path:"/rooms",query:function(e){return e.orderByChild("code").equalTo(t).limitToLast(1)}});case 2:return n=e.sent,a=C()(A()("createdAt"),I.a)(Object.values(n)),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(e,t){return E().createUserWithEmailAndPassword(e,t)},_=function(e,t){return E().signInWithEmailAndPassword(e,t)},G=function(e){E().currentUser.updateProfile(e).then(Object(b.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:case"end":return t.stop()}}),t)})))).catch((function(e){console.log("Error updating user data:",e)}))},K=n(10),Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"home":return"/";case"signup":return"/signup";case"rooms":return"/rooms";case"room":return"/room/".concat(t.code);default:return e}},$=n(412);function H(){var e=Object(j.a)(["\n  && {\n    color: #ffffff;\n    border-color: #ffffff;\n  }\n"]);return H=function(){return e},e}function V(){var e=Object(j.a)(["\n  input {\n    margin: 0 3px;\n  }\n  button {\n    margin-right: 5px;\n  }\n"]);return V=function(){return e},e}var X=K.a.div(V()),Y=Object(K.a)($.a)(H()),Z=Object(m.g)((function(e){var t=e.history,n=Object(a.useState)(null),c=Object(g.a)(n,2),o=c[0],u=c[1],i=Object(a.useState)(""),s=Object(g.a)(i,2),l=s[0],p=s[1],m=Object(a.useState)(""),f=Object(g.a)(m,2),d=f[0],h=f[1],j=function(){var e=Object(b.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),u(""),e.prev=2,e.next=5,_(l,d);case 5:e.sent&&t.push(Q("rooms")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),u(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(X,null,r.a.createElement("form",{onSubmit:j},r.a.createElement("input",{placeholder:"Email",name:"email",type:"email",onChange:function(e){return p(e.target.value)},value:l}),r.a.createElement("input",{placeholder:"Password",name:"password",type:"password",onChange:function(e){return h(e.target.value)},value:d}),o?r.a.createElement("p",null,o):null,r.a.createElement(Y,{size:"small",variant:"outlined",type:"submit"},"Login")))})),ee=n(45),te=(n(359),function(e){return{type:"update.current.user",payload:{user:e}}}),ne=function(e){return{type:"entities.remove",payload:{user:e}}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"update.current.user":return Object(h.a)(Object(h.a)({},e),a.user);case"entities.remove":return Object(h.a)({},a.user);default:return e}},re=Object(ee.c)({currentUser:ae});var ce=Object(ee.d)(re,ee.a.apply(void 0,[])),oe=ce.dispatch,ue=ce;function ie(){var e=Object(j.a)(["\n  && {\n    color: #ffffff;\n    border-color: #ffffff;\n  }\n"]);return ie=function(){return e},e}function se(){var e=Object(j.a)(["\n  height: 100%;\n  cursor: pointer;\n"]);return se=function(){return e},e}function le(){var e=Object(j.a)(["\n  position: absolute;\n  top: 0;\n  background-color: #625672;\n  height: 50px;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #ffffff;\n\n  button {\n    margin-right: 5px;\n  }\n"]);return le=function(){return e},e}var pe=K.a.div(le()),me=K.a.img(se()),fe=Object(K.a)($.a)(ie()),de=Object(m.g)((function(e){var t=e.history,c=Object(a.useState)(),o=Object(g.a)(c,2),u=o[0],i=o[1];Object(a.useEffect)((function(){i(E().currentUser)}),[]);var s=function(){var e=Object(b.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E().signOut();case 2:t=e.sent,oe(ne(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(pe,null,r.a.createElement(me,{src:n(361),alt:"Logo Chat Rooms",onClick:function(){return u?t.push(Q("rooms")):t.push(Q("home"))}}),u?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Login in as: ",r.a.createElement("strong",null,k()("displayName",u)?k()("displayName",u):"Anonyme")),r.a.createElement(fe,{size:"small",variant:"outlined",type:"submit",onClick:s},"Logout")):r.a.createElement(Z,null))})),ve=n(90),he=n.n(ve),be=n(422),ge=n(46),je=n.n(ge),Oe=n(420),xe=n(425),Ee=n(200),ye=[{title:"General Room",access:"public",id:"1",code:"general"},{title:"Music",access:"public",id:"2",code:"music"},{title:"Movies",access:"public",id:"3",code:"movies"},{title:"Sport",access:"public",id:"4",code:"sport"},{title:"News",access:"public",id:"5",code:"news"}],we=n.n(Ee)()((function(e){return"avatar-".concat(e+1)}),8),ke=function(e){var t=e.setAvatar,a=e.avatar;return r.a.createElement(Oe.a,{labelId:"label",id:"select",value:a,onChange:function(e){return t(e.target.value)}},je()((function(e){return r.a.createElement(xe.a,{key:e,value:e},r.a.createElement("img",{src:n(188)("./".concat(e,".jpg")),alt:e,height:"60px"}))}),we))};function Se(){var e=Object(j.a)(["\n  && {\n    margin: 10px;\n  }\n"]);return Se=function(){return e},e}function Ce(){var e=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Ce=function(){return e},e}function Ue(){var e=Object(j.a)(["\n  margin-top: 100px;\n"]);return Ue=function(){return e},e}function Ae(){var e=Object(j.a)(["\n  text-align: center;\n"]);return Ae=function(){return e},e}var Ne=K.a.div(Ae()),Ie=K.a.div(Ue()),Le=K.a.form(Ce()),De=Object(K.a)($.a)(Se()),Re=Object(m.g)((function(e){var t=e.history,n=Object(a.useState)(null),c=Object(g.a)(n,2),o=c[0],u=c[1],i=Object(a.useState)(he()(we)),s=Object(g.a)(i,2),l=s[0],p=s[1],m=Object(a.useState)(""),d=Object(g.a)(m,2),j=d[0],O=d[1],x=function(){var e=Object(b.a)(v.a.mark((function e(n){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),u(""),e.prev=2,e.next=5,E().signInAnonymously();case 5:return a=e.sent,r=Object(h.a)(Object(h.a)({},k()("user",a)),{},{displayName:j,photoURL:l}),e.next=9,G(r);case 9:oe(te(r)),a&&t.push(Q("rooms")),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("err",e.t0.message),u(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ne,null,r.a.createElement(de,null),r.a.createElement(Ie,null,r.a.createElement("h2",null,"Join a room and chat with other people or create yours to invite your friends !"),r.a.createElement("p",null,"Create your account: ",r.a.createElement(f.b,{to:"/signup"},"Sign Up")),r.a.createElement("p",null,"Or chat as guest: "),r.a.createElement(Le,{onSubmit:x},r.a.createElement(ke,{setAvatar:p,avatar:l}),r.a.createElement(be.a,{label:"Username",variant:"outlined",name:"username",onChange:function(e){return O(e.target.value)},value:j}),o?r.a.createElement("p",null,o):null,r.a.createElement(De,{variant:"contained",color:"primary",type:"submit"},"Start chatting !"))))})),ze=n(38),Be=n(201),Fe=n.n(Be),Pe=n(418),Te=n(427);function Je(){var e=Object(j.a)(["\n  && {\n    .MuiBadge-dot {\n      background-color: #44b700;\n    }\n  }\n"]);return Je=function(){return e},e}var Me=Object(K.a)(Pe.a)(Je()),qe=function(e){var t=e.userAvatar;return r.a.createElement("div",null,r.a.createElement(Me,{variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"}},r.a.createElement(Te.a,{alt:"User's avatar",src:n(188)("./".concat(t||"avatar-1",".jpg"))})))};function We(){var e=Object(j.a)(["\n  background-color: ",";\n  border-radius: 40px;\n  padding: 10px 20px;\n  width: fit-content;\n"]);return We=function(){return e},e}function _e(){var e=Object(j.a)(["\n  font-weight: bold;\n  margin: 0 5px;\n"]);return _e=function(){return e},e}function Ge(){var e=Object(j.a)(["\n  display: flex;\n  align-items: center;\n"]);return Ge=function(){return e},e}function Ke(){var e=Object(j.a)(["\n  display: flex;\n  align-items: flex-start;\n  margin: 15px 0;\n"]);return Ke=function(){return e},e}var Qe=K.a.div(Ke()),$e=K.a.div(Ge()),He=K.a.div(_e()),Ve=K.a.div(We(),(function(e){return e.isCurrentUser?"#f9d3b2":"#cbe3fb"})),Xe=function(e){var t=e.message,n=Object(a.useState)(),c=Object(g.a)(n,2),o=c[0],u=c[1],i=Object(ze.c)((function(e){return e.currentUser})),s=k()("uid",i)===k()("userId",t);return Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(k()("userId",t));case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),r.a.createElement(Qe,null,r.a.createElement($e,null,r.a.createElement(qe,{userAvatar:k()("photoURL",o)}),r.a.createElement(He,null,k()("displayName",o)?k()("displayName",o):"Anonyme",":")),r.a.createElement(Ve,{isCurrentUser:s},k()("content",t)))},Ye=n(419),Ze=n(202),et=n.n(Ze),tt={xs:"".concat(0,"em"),sm:"".concat(48,"em"),md:"".concat(64,"em"),lg:"".concat(75,"em")};function nt(){var e=Object(j.a)(["\n  && {\n    background-color: #1977af;\n    color: #ffffff;\n    margin: 10px;\n\n    @media (max-width: ",") {\n      margin: 5px;\n      padding: 9px;\n    }\n  }\n"]);return nt=function(){return e},e}function at(){var e=Object(j.a)(["\n  width: 70%;\n  text-align: center;\n  margin: 10px;\n  display:flex;\n  align-items: center;\n\n  input {\n    height: 40px;\n    border-radius: 20px;\n    border: transparent;\n    padding: 5px 20px;\n    font-size: 16px;\n    flex-grow: 1;\n  }\n\n  @media (max-width: ",") {\n    width: 90%;\n    margin: 0;\n    input {\n      height: 25px;\n    }\n  }\n"]);return at=function(){return e},e}function rt(){var e=Object(j.a)(["\n  background-color: #ffffff;\n  border: 3px solid #35aef5;\n  border-radius: 20px;\n  padding: 15px;\n  width: 70%;\n  height: 70%;\n  overflow-y: auto;\n\n  @media (max-width: ",") {\n    width: 90%;\n    padding: 7px;\n    font-size: 12px;\n  }\n"]);return rt=function(){return e},e}function ct(){var e=Object(j.a)(["\n  color: red;\n  text-align: center;\n  @media (max-width: ",") {\n    font-size: 10px;\n  }\n"]);return ct=function(){return e},e}function ot(){var e=Object(j.a)(["\n  color: #1977af;\n  @media (max-width: ",") {\n    font-size: 20px;\n  }\n"]);return ot=function(){return e},e}function ut(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n\n  @media (max-width: ",") {\n    padding-top: 20px;\n  }\n"]);return ut=function(){return e},e}function it(){var e=Object(j.a)(["\n  background-color: #a0d3ff;\n  height: 100vh;\n  margin: 0;\n  overflow: hidden;\n"]);return it=function(){return e},e}var st=K.a.div(it()),lt=K.a.div(ut(),tt.sm),pt=K.a.h1(ot(),tt.sm),mt=K.a.div(ct(),tt.sm),ft=K.a.div(rt(),tt.sm),dt=K.a.form(at(),tt.sm),vt=Object(K.a)(Ye.a)(nt(),tt.sm),ht=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={user:E().currentUser,room:void 0,messages:[],content:""},e.handleChange=function(t){return e.setState({content:t.target.value})},e.handleSubmit=function(){var t=Object(b.a)(v.a.mark((function t(n){var a,r,c,o,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,r=a.room,c=a.user,o=a.content,n.preventDefault(),t.prev=2,u={content:o,timestamp:Date.now(),uid:c.uid,room:k()("code",r)?k()("code",r):e.props.code},t.next=6,P(u);case 6:e.setState({content:""}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log("Fail to write message",t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark((function e(){var t,n,a=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.code,e.prev=1,y.ref("/messages").orderByChild("room").equalTo(t).on("value",(function(e){a.setState({messages:e.val()})})),e.next=5,q(t);case 5:n=e.sent,this.setState({room:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Fail to read messages",e.t0.message);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.messages,n=e.content,a=e.room,c=this.props.code;return r.a.createElement(st,null,r.a.createElement(de,null),r.a.createElement(lt,null,r.a.createElement(pt,null,k()("title",a)||Fe()(c)),"private"===k()("access",a)&&r.a.createElement(mt,null,"This room is private, invite your friends to join in: ",r.a.createElement("strong",null,k()("location.href",window))),r.a.createElement(ft,null,je()((function(e){return r.a.createElement(Xe,{key:k()("timestamp",e),message:e})}),t)),r.a.createElement(dt,{onSubmit:this.handleSubmit},r.a.createElement("input",{onChange:this.handleChange,value:n}),r.a.createElement(vt,{"aria-label":"send",type:"submit"},r.a.createElement(et.a,null)))))}}]),n}(a.Component),bt=Object(ze.b)((function(e,t){var n=t.match;return{code:k()("params.code",n)}}))(ht);function gt(){var e=Object(j.a)(["\n  margin: 10px 0;\n"]);return gt=function(){return e},e}function jt(){var e=Object(j.a)(["\n  margin: 100px;\n"]);return jt=function(){return e},e}var Ot=K.a.form(jt()),xt=K.a.div(gt()),Et=function(){var e=Object(a.useState)(null),t=Object(g.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(g.a)(o,2),i=u[0],s=u[1],l=Object(a.useState)(""),p=Object(g.a)(l,2),m=p[0],f=p[1],d=Object(a.useState)(""),j=Object(g.a)(d,2),O=j[0],x=j[1],E=Object(a.useState)(he()(we)),y=Object(g.a)(E,2),w=y[0],S=y[1],C=function(){var e=Object(b.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(""),e.prev=2,e.next=5,W(i,m);case 5:return n=e.sent,a=Object(h.a)(Object(h.a)({},k()("user",n)),{},{displayName:O,photoURL:w}),e.next=9,G(a);case 9:oe(te(a)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),c(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),U=!i||!m||!O;return r.a.createElement("div",null,r.a.createElement(de,null),r.a.createElement(Ot,{onSubmit:C},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("p",null,"Fill in the form below to create an account."),r.a.createElement(xt,null,r.a.createElement(be.a,{label:"Email",variant:"outlined",name:"email",type:"email",onChange:function(e){return s(e.target.value)},value:i})),r.a.createElement(xt,null,r.a.createElement(be.a,{label:"Password",variant:"outlined",name:"password",type:"password",onChange:function(e){return f(e.target.value)},value:m})),r.a.createElement(ke,{setAvatar:S,avatar:w}),r.a.createElement(xt,null,r.a.createElement(be.a,{label:"Username",variant:"outlined",name:"username",onChange:function(e){return x(e.target.value)},value:O})),r.a.createElement("div",null,n?r.a.createElement("p",null,n):null,r.a.createElement($.a,{variant:"contained",color:"primary",type:"submit",disabled:U},"Sign up"))))},yt=n(87),wt=n(421),kt=n(423),St=n(424);function Ct(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Ct=function(){return e},e}function Ut(){var e=Object(j.a)(["\n  padding: 50px;\n"]);return Ut=function(){return e},e}function At(){var e=Object(j.a)(["\n  background-color: #e4dcea;\n  height: 100vh;\n  margin: 0;\n  overflow: hidden;\n"]);return At=function(){return e},e}var Nt=K.a.div(At()),It=K.a.div(Ut()),Lt=K.a.div(Ct()),Dt=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={error:null,title:"",access:"",rooms:[]},e.handleSubmit=function(){var t=Object(b.a)(v.a.mark((function t(n){var a,r,c,o,u,i,s,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,r=a.history,c=a.currentUser,o=e.state,u=o.title,i=o.access,n.preventDefault(),e.setState({error:""}),t.prev=4,s={title:u,timestamp:Date.now(),userId:c.uid,access:i},t.next=8,M(s);case 8:(l=t.sent)&&r.push(Q("room",{code:k()("code",l)})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),e.setState({error:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){return e.setState(Object(yt.a)({},t.target.name,t.target.value))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark((function e(){var t=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{y.ref("/rooms").orderByChild("access").equalTo("public").on("value",(function(e){t.setState({rooms:e.val()})}))}catch(n){console.log("Fail to fetch rooms",n)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.error,n=e.title,a=e.access,c=e.rooms;return r.a.createElement(Nt,null,r.a.createElement(de,null),r.a.createElement(It,null,r.a.createElement("h2",null,"Create your room !"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(be.a,{id:"outlined-basic",label:"Room's title",variant:"outlined",name:"title",onChange:this.handleChange,value:n}),r.a.createElement(kt.a,{"aria-label":"access",name:"access",value:a,onChange:this.handleChange},r.a.createElement(St.a,{value:"public",control:r.a.createElement(wt.a,null),label:"Public"}),r.a.createElement(St.a,{value:"private",control:r.a.createElement(wt.a,null),label:"Private"})),r.a.createElement("div",null,t?r.a.createElement("p",null,t):null,r.a.createElement($.a,{variant:"contained",color:"primary",type:"submit"},"Create"))),r.a.createElement("hr",null),r.a.createElement("h2",null,"Or join an existing room:"),r.a.createElement(Lt,null,je()((function(e){return r.a.createElement(f.b,{to:Q("room",{code:k()("code",e)}),key:e.id},k()("title",e)?k()("title",e):"Chat Room"," - ",k()("access",e))}),ye),je()((function(e){return r.a.createElement(f.b,{to:Q("room",{code:k()("code",e)}),key:e.id},k()("title",e)?k()("title",e):"Chat Room"," - ",k()("access",e))}),c))))}}]),n}(a.Component),Rt=Object(m.g)(Object(ze.b)((function(e){return{currentUser:e.currentUser}}))(Dt)),zt=function(e){var t=e.component,n=e.authenticated,a=Object(p.a)(e,["component","authenticated"]);return r.a.createElement(m.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(m.a,{to:{pathname:"/",state:{from:e.location}}})}}))},Bt=function(e){var t=e.component,n=e.authenticated,a=Object(p.a)(e,["component","authenticated"]);return r.a.createElement(m.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(m.a,{to:Q("rooms")}):r.a.createElement(t,e)}}))},Ft=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={authenticated:!1,loading:!0},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;E().onAuthStateChanged((function(t){t?(e.setState({authenticated:!0,loading:!1}),oe(te(t))):e.setState({authenticated:!1,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.authenticated;return e.loading?r.a.createElement("h2",null,"Loading..."):r.a.createElement(f.a,null,r.a.createElement(m.d,null,r.a.createElement(Bt,{exact:!0,path:Q("home"),authenticated:t,component:Re}),r.a.createElement(zt,{path:Q("rooms"),authenticated:t,component:Rt}),r.a.createElement(zt,{path:Q("room",{code:":code"}),authenticated:t,component:bt}),r.a.createElement(Bt,{path:Q("signup"),authenticated:t,component:Et})))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(378);o.a.render(r.a.createElement(ze.a,{store:ue},r.a.createElement(Ft,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[213,1,2]]]);
//# sourceMappingURL=main.e740776f.chunk.js.map